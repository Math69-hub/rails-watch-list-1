<div class="lists-index-banner">
  <div class="banner-content">
    <p class="banner-label">Watch List</p>
    <h1 class="banner-title">Mes Listes</h1>
    <p class="banner-subtitle"><%= @lists.count %> liste<%= "s" if @lists.count > 1 %> créée<%= "s" if @lists.count > 1 %></p>
  </div>
</div>

<div class="container lists-index-container">
  <% if @lists.any? %>
    <div class="lists-grid">
      <% @lists.each do |list| %>
        <%= link_to list_path(list), class: "list-card-link" do %>
          <div class="list-card">
            <div class="list-card-visual">
              <div class="list-card-posters">
                <% list.bookmarks.includes(:movie).first(3).each_with_index do |bookmark, i| %>
                  <% if bookmark.movie.poster_url.present? %>
                    <%= image_tag bookmark.movie.poster_url, class: "mini-poster mini-poster-#{i}", alt: bookmark.movie.title %>
                  <% end %>
                <% end %>
                <% if list.bookmarks.empty? %>
                  <div class="empty-posters">
                    <i class="fas fa-film"></i>
                  </div>
                <% end %>
              </div>
            </div>
            <div class="list-card-body">
              <h3 class="list-card-title"><%= list.name %></h3>
              <p class="list-card-count">
                <i class="fas fa-bookmark"></i>
                <%= list.bookmarks.count %> film<%= "s" if list.bookmarks.count > 1 %>
              </p>
            </div>
            <div class="list-card-arrow">
              <i class="fas fa-chevron-right"></i>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div class="empty-state">
      <i class="fas fa-list-ul fa-3x"></i>
      <h3>Aucune liste pour l'instant</h3>
      <p>Créez votre première watch list !</p>
    </div>
  <% end %>
</div>
